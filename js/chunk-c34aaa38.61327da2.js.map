{"version":3,"sources":["webpack:///./src/views/pc/Vote.vue?5f1b","webpack:///./src/views/pc/Vote.vue?2ca2","webpack:///./src/views/pc/Vote.vue?8460","webpack:///src/views/pc/Vote.vue","webpack:///./src/views/pc/Vote.vue?f6b4","webpack:///./src/views/pc/Vote.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","searchForm","staticStyle","$t","model","value","callback","$$v","$set","expression","_l","item","key","dictValue","dictLabel","on","search","_v","_s","proposalList","length","list","id","$event","details","title","name","getStatus","status","domProps","summary","approve","oppose","style","Number","toFixed","_e","isPoll","userPollStatus","pageNo","pageSize","total","handleSizeChange","handleCurrentChange","dialogVisible","close","numPoll","slot","getPoll","staticRenderFns","data","statusPoll","itemPoll","statusList","currentPage","pollNumber","poll","exec","created","loginName","mounted","getProposalList","getDictList","methods","label","$router","push","path","query","val","component"],"mappings":"gKAAA,W,kCCAA,W,yCCAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,MAAM,CAACE,YAAY,UAAU,CAACF,EAAG,UAAU,CAACE,YAAY,mBAAmBC,MAAM,CAAC,QAAS,EAAK,MAAQP,EAAIQ,aAAa,CAACJ,EAAG,eAAe,CAACG,MAAM,CAAC,MAAQ,KAAK,CAACH,EAAG,WAAW,CAACE,YAAY,WAAWG,YAAY,CAAC,MAAQ,SAASF,MAAM,CAAC,YAAcP,EAAIU,GAAG,mBAAmBC,MAAM,CAACC,MAAOZ,EAAIQ,WAAgB,MAAEK,SAAS,SAAUC,GAAMd,EAAIe,KAAKf,EAAIQ,WAAY,QAASM,IAAME,WAAW,uBAAuB,GAAGZ,EAAG,eAAe,CAACG,MAAM,CAAC,MAAQ,KAAK,CAACH,EAAG,YAAY,CAACE,YAAY,YAAYG,YAAY,CAAC,MAAQ,SAASF,MAAM,CAAC,YAAcP,EAAIU,GAAG,cAAc,UAAY,IAAIC,MAAM,CAACC,MAAOZ,EAAIQ,WAAiB,OAAEK,SAAS,SAAUC,GAAMd,EAAIe,KAAKf,EAAIQ,WAAY,SAAUM,IAAME,WAAW,sBAAsBhB,EAAIiB,GAAIjB,EAAc,YAAE,SAASkB,GAAM,OAAOd,EAAG,YAAY,CAACe,IAAID,EAAKE,UAAUd,YAAY,aAAaC,MAAM,CAAC,MAAQW,EAAKG,UAAU,MAAQH,EAAKE,gBAAe,IAAI,GAAGhB,EAAG,eAAe,CAACA,EAAG,OAAO,CAACE,YAAY,MAAMgB,GAAG,CAAC,MAAQtB,EAAIuB,SAAS,CAACvB,EAAIwB,GAAGxB,EAAIyB,GAAGzB,EAAIU,GAAG,0BAA0B,IAAI,GAAIV,EAAI0B,aAAaC,OAAS,EAAGvB,EAAG,MAAM,CAACE,YAAY,WAAW,CAACF,EAAG,MAAM,CAACE,YAAY,SAAS,CAACN,EAAIiB,GAAIjB,EAAgB,cAAE,SAAS4B,GAAM,MAAO,CAACxB,EAAG,MAAM,CAACe,IAAIS,EAAKC,GAAGvB,YAAY,WAAW,CAACF,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,MAAM,CAACE,YAAY,MAAMgB,GAAG,CAAC,MAAQ,SAASQ,GAAQ,OAAO9B,EAAI+B,QAAQH,EAAKC,OAAO,CAAC7B,EAAIwB,GAAGxB,EAAIyB,GAAGG,EAAKC,OAAOzB,EAAG,MAAM,CAACE,YAAY,MAAMgB,GAAG,CAAC,MAAQ,SAASQ,GAAQ,OAAO9B,EAAI+B,QAAQH,EAAKC,OAAO,CAACzB,EAAG,MAAM,CAACE,YAAY,SAAS,CAACN,EAAIwB,GAAGxB,EAAIyB,GAAGG,EAAKI,UAAU5B,EAAG,MAAM,CAACE,YAAY,UAAU,CAACF,EAAG,MAAM,CAACE,YAAY,UAAU,CAACN,EAAIwB,GAAGxB,EAAIyB,GAAGzB,EAAIU,GAAG,sBAAsB,IAAIV,EAAIyB,GAAGG,EAAKK,SAAS7B,EAAG,MAAM,CAACE,YAAY,UAAU,CAACN,EAAIwB,GAAG,uBAAuBxB,EAAIyB,GAAGzB,EAAIU,GAAG,oBAAoB,KAAKV,EAAIyB,GAAGzB,EAAIkC,UAAUN,EAAKO,SAAS,8BAA8B/B,EAAG,MAAM,CAACE,YAAY,OAAO8B,SAAS,CAAC,UAAYpC,EAAIyB,GAAGG,EAAKS,WAAW,CAACrC,EAAIwB,GAAGxB,EAAIyB,GAAGG,EAAKS,YAAYjC,EAAG,MAAM,CAACE,YAAY,SAAS,CAACF,EAAG,MAAM,CAACE,YAAY,OAAO,CAACF,EAAG,OAAO,CAACJ,EAAIwB,GAAGxB,EAAIyB,GAAGG,EAAKU,YAAYlC,EAAG,OAAO,CAACE,YAAY,KAAK,CAACN,EAAIwB,GAAGxB,EAAIyB,GAAGG,EAAKW,aAAanC,EAAG,MAAM,CAACE,YAAY,WAAW,CAACF,EAAG,MAAM,CAACE,YAAY,UAAUkC,MAAQ,WAAaZ,EAAKU,SAEpuEG,OAAOb,EAAKU,UAAYV,EAAKU,QAAUG,OAAOb,EAAKW,SACpD,KACAG,QAAQ,GACM,GAAhBd,EAAKU,SAA+B,GAAfV,EAAKW,OAC1B,GACA,GAAK,MACO,GAAhBX,EAAKU,SAAgBV,EAAKW,OAAS,GACjCX,EAAKU,QAAU,GAAoB,GAAfV,EAAKW,OAC0FvC,EAAI2C,KAA3HvC,EAAG,MAAM,CAACE,YAAY,KAAK,CAACF,EAAG,OAAO,CAACE,YAAY,qBAAqBF,EAAG,OAAO,CAACE,YAAY,wBAAiCF,EAAG,MAAM,CAACE,YAAY,SAASkC,MAAQ,YAAcZ,EAAKW,QAEjLX,EAAKW,QAAUE,OAAOb,EAAKU,SAAWG,OAAOb,EAAKW,SACnD,KACAG,QAAQ,GACM,GAAhBd,EAAKU,SAA+B,GAAfV,EAAKW,OAC1B,GACA,GAAK,QAAUnC,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,MAAM,CAACkB,GAAG,CAAC,MAAQ,SAASQ,GAAQ,OAAO9B,EAAI4C,OAAO,EAAGhB,MAAS,CAAC5B,EAAIwB,GAAG,qBAAqBxB,EAAIyB,GAA2B,IAAxBG,EAAKiB,eAAuB7C,EAAIU,GAAG,mBAAqBV,EAAIU,GAAG,mBAAmB,sBAAsBN,EAAG,MAAM,CAACG,MAAM,CAAC,IAAM,EAAQ,QAAmC,IAAM,QAAQH,EAAG,MAAM,CAACE,YAAY,IAAIgB,GAAG,CAAC,MAAQ,SAASQ,GAAQ,OAAO9B,EAAI4C,OAAO,EAAGhB,MAAS,CAAC5B,EAAIwB,GAAG,qBAAqBxB,EAAIyB,GAA2B,IAAxBG,EAAKiB,eAAuB7C,EAAIU,GAAG,oBAAsBV,EAAIU,GAAG,qBAAqBN,EAAG,MAAM,CAACG,MAAM,CAAC,IAAM,EAAQ,QAA+B,IAAM,mBAAkB,GAAGH,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,gBAAgB,CAACG,MAAM,CAAC,eAAeP,EAAIQ,WAAWsC,OAAO,aAAa,CAAC,EAAG,GAAI,GAAI,IAAI,YAAY9C,EAAIQ,WAAWuC,SAAS,OAAS,mCAAmC,MAAQ/C,EAAIgD,MAAM,WAAa,IAAI1B,GAAG,CAAC,cAActB,EAAIiD,iBAAiB,iBAAiBjD,EAAIkD,wBAAwB,KAAK9C,EAAG,MAAM,CAACE,YAAY,UAAU,CAACN,EAAIwB,GAAG,SAASxB,EAAIyB,GAA8B,OAA3BzB,EAAIU,GAAG,gBAA2B,OAAS,cAAc,UAAUN,EAAG,YAAY,CAACG,MAAM,CAAC,eAAe,cAAc,MAAQP,EAAIU,GAAG,iBAAiB,QAAUV,EAAImD,cAAc,MAAQ,QAAQ,eAAenD,EAAIoD,QAAQ,CAAChD,EAAG,WAAW,CAACG,MAAM,CAAC,YAAcP,EAAIU,GAAG,gBAAgBC,MAAM,CAACC,MAAOZ,EAAW,QAAEa,SAAS,SAAUC,GAAMd,EAAIqD,QAAQvC,GAAKE,WAAW,aAAaZ,EAAG,MAAM,CAACE,YAAY,gBAAgBC,MAAM,CAAC,KAAO,UAAU+C,KAAK,UAAU,CAAClD,EAAG,MAAM,CAACE,YAAY,aAAagB,GAAG,CAAC,MAAQtB,EAAIuD,UAAU,CAACvD,EAAIwB,GAAGxB,EAAIyB,GAAGzB,EAAIU,GAAG,sBAAsBN,EAAG,MAAM,CAACE,YAAY,mBAAmBgB,GAAG,CAAC,MAAQtB,EAAIoD,QAAQ,CAACpD,EAAIwB,GAAGxB,EAAIyB,GAAGzB,EAAIU,GAAG,wBAAwB,IAAI,IAC3qD8C,EAAkB,G,2oCC6ItB,OACEC,KADF,WAEI,MAAO,CACLC,WAAY,GACZC,SAAU,KACVN,QAAS,GACT7C,WAAY,CACVwB,MAAO,GACPG,OAAQ,GACRW,OAAQ,EACRC,SAAU,IAEZa,WAAY,GACZC,YAAa,EACbnC,aAAc,GACdsB,MAAO,EACPG,eAAe,EACfW,WAAY,EACZC,MAAM,EACNC,MAAM,IAGVC,QAtBF,WAuBI,IAAJ,mCACIhE,KAAKO,WAAW0D,UAAYA,GAE9BC,QA1BF,WA2BIlE,KAAKmE,kBACLnE,KAAKoE,eAEPC,QAAS,CACP,OADJ,oEACA,KADA,0FAEA,qBAFA,uBAGA,kBACA,gBAJA,SAKA,gBACA,oCACA,UAPA,OAKA,EALA,OASA,YACA,kCACA,sBACA,sBACA,UACA,sBACA,oBACA,+BACA,oBACA,sDAGA,sBAGA,oBACA,+BACA,WACA,uCA3BA,uBAgCA,oBACA,+BACA,YACA,uCAnCA,4GAuCIlB,MAvCJ,WAwCMnD,KAAKyD,WAAa,EAClBzD,KAAKkD,eAAgB,EACrBlD,KAAK0D,SAAW,KAChB1D,KAAKoD,QAAU,IAEjB,QA7CJ,kKA8CA,mCACA,kCA/CA,yCAgDA,sBACA,uEAjDA,YAoDA,kBApDA,yCAqDA,sBACA,+BACA,eACA,oDAxDA,YA2DA,8BA3DA,yCA4DA,sBACA,2EA7DA,uBAgEA,gBACA,YACA,4BACA,uBACA,iBACA,4BArEA,OAgEA,EAhEA,OAuEA,YACA,wEACA,uBACA,cAEA,kCA5EA,yGA+EI,gBA/EJ,6KAgFA,gCAhFA,OAgFA,EAhFA,OAiFA,YACA,yFACA,4BACA,6CAEA,mBACA,0BAEA,2BAzFA,wGA4FI,YA5FJ,6KA6FA,6CA7FA,OA6FA,EA7FA,OA8FA,WACA,uBAEA,2BAjGA,wGAoGI9B,OApGJ,WAqGMtB,KAAKmE,mBAEPlC,UAvGJ,SAuGA,GACM,IADN,EACA,QADA,IAEA,iBAFA,IAEA,0CACA,mBACA,cACA,QALA,8BAQM,OAAOqC,GAETxC,QAjHJ,SAiHA,GACM9B,KAAKuE,QAAQC,KAAK,CAChBC,KAAM,iCACNC,MAAO,CAAf,oCAGI1B,iBAvHJ,SAuHA,GACMhD,KAAKO,WAAWuC,SAAW6B,EAC3B3E,KAAKmE,mBAEPlB,oBA3HJ,SA2HA,GACMjD,KAAKO,WAAWsC,OAAS8B,EACzB3E,KAAKmE,qBC1TkV,I,kCCSzVS,EAAY,eACd,EACA9E,EACAyD,GACA,EACA,KACA,WACA,MAIa,aAAAqB,E","file":"js/chunk-c34aaa38.61327da2.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Vote.vue?vue&type=style&index=1&id=e165025c&lang=less&scoped=true&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Vote.vue?vue&type=style&index=0&lang=less&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"Proposal\"},[_c('div',{staticClass:\"search\"},[_c('el-form',{staticClass:\"demo-form-inline\",attrs:{\"inline\":true,\"model\":_vm.searchForm}},[_c('el-form-item',{attrs:{\"label\":\"\"}},[_c('el-input',{staticClass:\"title_bn\",staticStyle:{\"width\":\"320px\"},attrs:{\"placeholder\":_vm.$t('Proposal.title')},model:{value:(_vm.searchForm.title),callback:function ($$v) {_vm.$set(_vm.searchForm, \"title\", $$v)},expression:\"searchForm.title\"}})],1),_c('el-form-item',{attrs:{\"label\":\"\"}},[_c('el-select',{staticClass:\"status_bn\",staticStyle:{\"width\":\"320px\"},attrs:{\"placeholder\":_vm.$t('Vote.State'),\"clearable\":\"\"},model:{value:(_vm.searchForm.status),callback:function ($$v) {_vm.$set(_vm.searchForm, \"status\", $$v)},expression:\"searchForm.status\"}},_vm._l((_vm.statusList),function(item){return _c('el-option',{key:item.dictValue,staticClass:\"statusItem\",attrs:{\"label\":item.dictLabel,\"value\":item.dictValue}})}),1)],1),_c('el-form-item',[_c('span',{staticClass:\"btn\",on:{\"click\":_vm.search}},[_vm._v(_vm._s(_vm.$t(\"Proposal.Search\")))])])],1)],1),(_vm.proposalList.length > 0)?_c('div',{staticClass:\"content\"},[_c('div',{staticClass:\"w1300\"},[_vm._l((_vm.proposalList),function(list){return [_c('div',{key:list.id,staticClass:\"details\"},[_c('div',{staticClass:\"head\"},[_c('div',{staticClass:\"num\",on:{\"click\":function($event){return _vm.details(list.id)}}},[_vm._v(_vm._s(list.id))]),_c('div',{staticClass:\"cen\",on:{\"click\":function($event){return _vm.details(list.id)}}},[_c('div',{staticClass:\"title\"},[_vm._v(_vm._s(list.title))]),_c('div',{staticClass:\"bottom\"},[_c('div',{staticClass:\"people\"},[_vm._v(_vm._s(_vm.$t(\"Proposal.Proposer\"))+\":\"+_vm._s(list.name))]),_c('div',{staticClass:\"status\"},[_vm._v(\"\\n                  \"+_vm._s(_vm.$t(\"Proposal.status\"))+\" ：\"+_vm._s(_vm.getStatus(list.status))+\"\\n                \")])])])]),_c('div',{staticClass:\"text\",domProps:{\"innerHTML\":_vm._s(list.summary)}},[_vm._v(_vm._s(list.summary))]),_c('div',{staticClass:\"votes\"},[_c('div',{staticClass:\"num\"},[_c('span',[_vm._v(_vm._s(list.approve))]),_c('span',{staticClass:\"r\"},[_vm._v(_vm._s(list.oppose))])]),_c('div',{staticClass:\"meddile\"},[_c('div',{staticClass:\"approve\",style:((\"width: \" + (list.approve\n                      ? (\n                          (Number(list.approve) / (list.approve + Number(list.oppose))) *\n                          100\n                        ).toFixed(2)\n                      : list.approve == 0 && list.oppose == 0\n                      ? 50\n                      : 0) + \"%\"))}),(\n                  !(list.approve == 0 && list.oppose > 0) &&\n                    !(list.approve > 0 && list.oppose == 0)\n                )?_c('div',{staticClass:\"c\"},[_c('span',{staticClass:\"iconfont iconlan\"}),_c('span',{staticClass:\"iconfont iconhong\"})]):_vm._e(),_c('div',{staticClass:\"oppose\",style:((\" width: \" + (list.oppose\n                      ? (\n                          (list.oppose / (Number(list.approve) + Number(list.oppose))) *\n                          100\n                        ).toFixed(2)\n                      : list.approve == 0 && list.oppose == 0\n                      ? 50\n                      : 0) + \"%\"))})]),_c('div',{staticClass:\"foot\"},[_c('div',{on:{\"click\":function($event){return _vm.isPoll(1, list)}}},[_vm._v(\"\\n                \"+_vm._s(list.userPollStatus === 1 ? _vm.$t(\"Proposal.agreea\") : _vm.$t(\"Proposal.agree\"))+\"\\n                \"),_c('img',{attrs:{\"src\":require(\"@/assets/images/icon/点赞 (1).png\"),\"alt\":\"\"}})]),_c('div',{staticClass:\"r\",on:{\"click\":function($event){return _vm.isPoll(2, list)}}},[_vm._v(\"\\n                \"+_vm._s(list.userPollStatus === 2 ? _vm.$t(\"Proposal.opposea\") : _vm.$t(\"Proposal.oppose\"))),_c('img',{attrs:{\"src\":require(\"@/assets/images/icon/点赞.png\"),\"alt\":\"\"}})])])])])]})],2),_c('div',{staticClass:\"page\"},[_c('el-pagination',{attrs:{\"current-page\":_vm.searchForm.pageNo,\"page-sizes\":[5, 10, 15, 20],\"page-size\":_vm.searchForm.pageSize,\"layout\":\"total, prev, pager, next, jumper\",\"total\":_vm.total,\"background\":\"\"},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1)]):_c('div',{staticClass:\"nodata\"},[_vm._v(\"\\n    \"+_vm._s(_vm.$t(\"index.switch\") === \"cn\" ? \"暂无数据\" : \"Empty data\")+\"\\n  \")]),_c('el-dialog',{attrs:{\"custom-class\":\"vote-dialog\",\"title\":_vm.$t('dialog.Number'),\"visible\":_vm.dialogVisible,\"width\":\"600px\",\"before-close\":_vm.close}},[_c('el-input',{attrs:{\"placeholder\":_vm.$t('dialog.less')},model:{value:(_vm.numPoll),callback:function ($$v) {_vm.numPoll=$$v},expression:\"numPoll\"}}),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('div',{staticClass:\"dialog-btn\",on:{\"click\":_vm.getPoll}},[_vm._v(_vm._s(_vm.$t(\"dialog.confirm\")))]),_c('div',{staticClass:\"dialog-btn close\",on:{\"click\":_vm.close}},[_vm._v(_vm._s(_vm.$t(\"dialog.cancel\")))])])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n * @Author: yaoyuting\n * @Date: 2021-04-18 18:04:59\n * @LastEditors: yaoyuting\n * @LastEditTime: 2021-05-18 21:12:52\n * @Descripttion: \n-->\n<template>\n  <div class=\"Proposal\">\n    <div class=\"search\">\n      <el-form :inline=\"true\" :model=\"searchForm\" class=\"demo-form-inline\">\n        <el-form-item label=\"\">\n          <el-input\n            class=\"title_bn\"\n            v-model=\"searchForm.title\"\n            :placeholder=\"$t('Proposal.title')\"\n            style=\"width: 320px\"\n          ></el-input>\n        </el-form-item>\n        <el-form-item label=\"\">\n          <el-select\n            class=\"status_bn\"\n            v-model=\"searchForm.status\"\n            :placeholder=\"$t('Vote.State')\"\n            clearable\n            style=\"width: 320px\"\n          >\n            <el-option\n              class=\"statusItem\"\n              v-for=\"item in statusList\"\n              :key=\"item.dictValue\"\n              :label=\"item.dictLabel\"\n              :value=\"item.dictValue\"\n            ></el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item>\n          <span class=\"btn\" @click=\"search\">{{ $t(\"Proposal.Search\") }}</span>\n        </el-form-item>\n      </el-form>\n    </div>\n    <div class=\"content\" v-if=\"proposalList.length > 0\">\n      <div class=\"w1300\">\n        <template v-for=\"list in proposalList\">\n          <div class=\"details\" :key=\"list.id\">\n            <div class=\"head\">\n              <div class=\"num\" @click=\"details(list.id)\">{{ list.id }}</div>\n              <div class=\"cen\" @click=\"details(list.id)\">\n                <div class=\"title\">{{ list.title }}</div>\n                <div class=\"bottom\">\n                  <div class=\"people\">{{ $t(\"Proposal.Proposer\") }}:{{ list.name }}</div>\n                  <!-- <div class=\"date\">{{$t('Proposal.deadline')}} ：{{ list.deadline }}</div> -->\n                  <div class=\"status\">\n                    {{ $t(\"Proposal.status\") }} ：{{ getStatus(list.status) }}\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            <div class=\"text\" v-html=\"list.summary\">{{ list.summary }}</div>\n\n            <div class=\"votes\">\n              <div class=\"num\">\n                <span>{{ list.approve }}</span>\n                <span class=\"r\">{{ list.oppose }}</span>\n              </div>\n              <div class=\"meddile\">\n                <div\n                  class=\"approve\"\n                  :style=\"\n                    `width: ${\n                      list.approve\n                        ? (\n                            (Number(list.approve) / (list.approve + Number(list.oppose))) *\n                            100\n                          ).toFixed(2)\n                        : list.approve == 0 && list.oppose == 0\n                        ? 50\n                        : 0\n                    }%`\n                  \"\n                ></div>\n                <div\n                  class=\"c\"\n                  v-if=\"\n                    !(list.approve == 0 && list.oppose > 0) &&\n                      !(list.approve > 0 && list.oppose == 0)\n                  \"\n                >\n                  <span class=\"iconfont iconlan\"></span>\n                  <span class=\"iconfont iconhong\"></span>\n                </div>\n                <div\n                  class=\"oppose\"\n                  :style=\"\n                    ` width: ${\n                      list.oppose\n                        ? (\n                            (list.oppose / (Number(list.approve) + Number(list.oppose))) *\n                            100\n                          ).toFixed(2)\n                        : list.approve == 0 && list.oppose == 0\n                        ? 50\n                        : 0\n                    }%`\n                  \"\n                ></div>\n              </div>\n              <div class=\"foot\">\n                <div @click=\"isPoll(1, list)\">\n                  {{ list.userPollStatus === 1 ? $t(\"Proposal.agreea\") : $t(\"Proposal.agree\") }}\n                  <img src=\"@/assets/images/icon/点赞 (1).png\" alt=\"\" />\n                </div>\n                <div @click=\"isPoll(2, list)\" class=\"r\">\n                  {{ list.userPollStatus === 2 ? $t(\"Proposal.opposea\") : $t(\"Proposal.oppose\")\n                  }}<img src=\"@/assets/images/icon/点赞.png\" alt=\"\" />\n                </div>\n              </div>\n            </div>\n          </div>\n        </template>\n      </div>\n\n      <div class=\"page\">\n        <el-pagination\n          @size-change=\"handleSizeChange\"\n          @current-change=\"handleCurrentChange\"\n          :current-page=\"searchForm.pageNo\"\n          :page-sizes=\"[5, 10, 15, 20]\"\n          :page-size=\"searchForm.pageSize\"\n          layout=\"total, prev, pager, next, jumper\"\n          :total=\"total\"\n          background\n        >\n        </el-pagination>\n      </div>\n    </div>\n    <div class=\"nodata\" v-else>\n      {{ $t(\"index.switch\") === \"cn\" ? \"暂无数据\" : \"Empty data\" }}\n    </div>\n    <el-dialog\n      custom-class=\"vote-dialog\"\n      :title=\"$t('dialog.Number')\"\n      :visible=\"dialogVisible\"\n      width=\"600px\"\n      :before-close=\"close\"\n    >\n      <el-input v-model=\"numPoll\" :placeholder=\"$t('dialog.less')\"></el-input>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <div class=\"dialog-btn\" @click=\"getPoll\">{{ $t(\"dialog.confirm\") }}</div>\n        <div class=\"dialog-btn close\" @click=\"close\">{{ $t(\"dialog.cancel\") }}</div>\n      </div>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport { GetPollList, GetDictList, GetPoll, DetailInfo } from \"@/assets/server/api.js\";\nimport { log } from \"util\";\nexport default {\n  data() {\n    return {\n      statusPoll: \"\",\n      itemPoll: null,\n      numPoll: \"\",\n      searchForm: {\n        title: \"\",\n        status: \"\",\n        pageNo: 1,\n        pageSize: 10\n      },\n      statusList: [],\n      currentPage: 1,\n      proposalList: [],\n      total: 0,\n      dialogVisible: false,\n      pollNumber: 0,\n      poll: false,\n      exec: false\n    };\n  },\n  created() {\n    let loginName = localStorage.getItem(\"username\");\n    this.searchForm.loginName = loginName;\n  },\n  mounted() {\n    this.getProposalList();\n    this.getDictList();\n  },\n  methods: {\n    async isPoll(status, list) {\n      if (list.userPollStatus === 0) {\n        this.statusPoll = status;\n        this.itemPoll = list;\n        const data = await DetailInfo({\n          loginName: this.searchForm.loginName,\n          id: list.id\n        });\n        if (data.code == 0) {\n          this.pollNumber = data.data.pollNumber;\n          this.poll = data.data.poll;\n          this.exec = data.data.exec;\n          if (this.poll) {\n            if (this.pollNumber / 1 < 1000) {\n              this.$message.error(\n                this.$t(\"index.switch\") === \"cn\"\n                  ? \"余额至少1000以上才可以投票哦！\"\n                  : \"Only with a balance of at least 1000 can you vote!\"\n              );\n            } else {\n              this.dialogVisible = true;\n            }\n          } else {\n            this.$message.error(\n              this.$t(\"index.switch\") === \"cn\"\n                ? \"您没有投票权限！\"\n                : \"You do not have the right to vote!\"\n            );\n          }\n        }\n      } else {\n        this.$message.error(\n          this.$t(\"index.switch\") === \"cn\"\n            ? \"您已参与本次投票!\"\n            : \"You have participated in this poll！\"\n        );\n      }\n    },\n    close() {\n      this.statusPoll = 0;\n      this.dialogVisible = false;\n      this.itemPoll = null;\n      this.numPoll = \"\";\n    },\n    async getPoll() {\n      let loginName = localStorage.getItem(\"username\");\n      if (this.itemPoll.userPollStatus != \"0\") {\n        return this.$message.warning(\n          this.$t(\"index.switch\") === \"cn\" ? \"已投票，请勿重复投递！\" : \"Voted, do not repeat!\"\n        );\n      }\n      if (this.numPoll < 1000) {\n        return this.$message.warning(\n          this.$t(\"index.switch\") === \"cn\"\n            ? \"投票数量不得小于1000\"\n            : \"The number of votes must not be less than 1,000\"\n        );\n      }\n      if (this.numPoll > this.pollNumber) {\n        return this.$message.warning(\n          this.$t(\"index.switch\") === \"cn\" ? \"可用余额不足\" : \"Insufficient available balance\"\n        );\n      }\n      const data = await GetPoll({\n        loginName: loginName,\n        proposalId: this.itemPoll.id,\n        status: this.statusPoll,\n        num: this.numPoll,\n        mark: this.itemPoll.status\n      });\n      if (data.code === 0) {\n        this.$message.success(this.$t(\"index.switch\") === \"cn\" ? \"投票成功！\" : \"success\");\n        this.getProposalList();\n        this.close();\n      } else {\n        this.$message.error(dataList.msg);\n      }\n    },\n    async getProposalList() {\n      const dataList = await GetPollList(this.searchForm);\n      if (dataList.code === 0) {\n        if (!dataList.rows.length) this.$message.warning(this.$t(\"index.switch\") === \"cn\" ?\"暂无内容\":'No content' );\n        dataList.rows.forEach(item => {\n          item.summary = item.summary.replace(/\\n/g, \"<br>\");\n        });\n        this.total = dataList.total;\n        this.proposalList = dataList.rows;\n      } else {\n        this.$message.error(dataList.msg);\n      }\n    },\n    async getDictList() {\n      const dataList = await GetDictList({ dictType: \"sys_poll_status\" });\n      if (dataList.code === 0) {\n        this.statusList = dataList.rows;\n      } else {\n        this.$message.error(dataList.msg);\n      }\n    },\n    search() {\n      this.getProposalList();\n    },\n    getStatus(type) {\n      let label = \"无状态\";\n      for (const key of this.statusList) {\n        if (key.dictValue == type) {\n          label = key.dictLabel;\n          break;\n        }\n      }\n      return label;\n    },\n    details(id) {\n      this.$router.push({\n        path: \"/pc/community/Proposal/Details\",\n        query: { id: id, type: \"vote\", exec: this.exec }\n      });\n    },\n    handleSizeChange(val) {\n      this.searchForm.pageSize = val;\n      this.getProposalList();\n    },\n    handleCurrentChange(val) {\n      this.searchForm.pageNo = val;\n      this.getProposalList();\n    }\n  }\n};\n</script>\n\n<style lang=\"less\">\n.statusItem.el-select-dropdown__item {\n  height: 48px;\n  line-height: 48px;\n  font-size: 22px;\n}\n.Proposal {\n  .nodata {\n    text-align: center;\n    font-size: 40px;\n    margin: 100px 0;\n  }\n  .title_bn {\n    width: 670px !important;\n    height: 78px;\n    input {\n      height: 78px;\n      font-size: 32px;\n    }\n    input::placeholder {\n      font-size: 32px;\n      color: #9a9a9a;\n      height: 78px;\n      line-height: 78px;\n    }\n  }\n\n  .status_bn {\n    width: 270px !important;\n    height: 78px;\n    input {\n      height: 78px;\n      font-size: 32px;\n    }\n    i {\n      font-size: 24px !important;\n    }\n    input::placeholder {\n      font-size: 32px;\n      color: #9a9a9a;\n      height: 78px;\n      line-height: 78px;\n    }\n  }\n}\n.vote-dialog {\n  width: 600px;\n  height: 417px;\n  border-radius: 25px;\n  .el-dialog__header {\n    padding: 30px 60px;\n    .el-dialog__title {\n      font-size: 28px;\n    }\n    .el-dialog__headerbtn {\n      top: 30px;\n    }\n    .el-dialog__close {\n      font-size: 26px;\n      color: #305bbc;\n    }\n  }\n  .el-dialog__body {\n    padding: 40px 60px 60px;\n    .el-input__inner {\n      width: 480px;\n      height: 70px;\n      background: #ffffff;\n      border: 1px solid #999999;\n      border-radius: 3px;\n      font-size: 24px;\n      border: 1px solid #999999;\n    }\n  }\n  .el-dialog__footer {\n    padding-ottom: 60px;\n    .dialog-footer {\n      display: flex;\n      justify-content: center;\n    }\n\n    .dialog-btn {\n      width: 158px;\n      line-height: 70px;\n      height: 70px;\n      text-align: center;\n      background: #4c67ef;\n      border-radius: 4px;\n      font-size: 28px;\n      color: #ffffff;\n      margin: 0 28px;\n      cursor: pointer;\n    }\n    .close {\n      background: #afb7e0;\n    }\n  }\n}\n</style>\n<style lang=\"less\" scoped>\n.Proposal {\n  .btn {\n    width: 200px;\n    height: 78px;\n    border: 2px solid #ffffff;\n    border-radius: 10px;\n    font-size: 32px;\n    text-align: center;\n    color: #ffffff;\n    line-height: 78px;\n    display: inline-block;\n    margin-right: 20px;\n  }\n  .search {\n    height: 900px;\n    background-image: url(\"../../assets/images/index/Developersbg.png\");\n    background-size: cover;\n    background-position: center center;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    cursor: pointer;\n  }\n  .content {\n    background-image: url(\"../../assets/images/index/votebg.png\");\n    background-size: cover;\n    background-position: center center;\n    overflow: hidden;\n  }\n  .details {\n    margin-top: 86px;\n    .head {\n      display: flex;\n      align-items: center;\n      .num {\n        width: 80px;\n        height: 80px;\n        line-height: 80px;\n        text-align: center;\n        background-color: #5459ff;\n        color: #fff;\n        font-size: 32px;\n        font-weight: bold;\n        border-radius: 6px;\n        cursor: pointer;\n      }\n      .cen {\n        padding: 0 10px;\n        flex: 1;\n        cursor: pointer;\n        .title {\n          font-size: 32px;\n          height: 45px;\n          line-height: 45px;\n          color: #333;\n          overflow: hidden;\n          display: -webkit-box;\n          -webkit-box-orient: vertical;\n          -webkit-line-clamp: 1;\n        }\n        .bottom {\n          display: flex;\n          justify-content: space-between;\n          font-size: 24px;\n          font-family: PingFangSC-Regular, PingFang SC;\n          font-weight: 400;\n          color: #323232;\n          line-height: 40px;\n          margin-top: 10px;\n        }\n      }\n    }\n    .text {\n      margin: 18px 10px;\n      word-break: break-all;\n      display: -webkit-box;\n      -webkit-box-orient: vertical;\n      -webkit-line-clamp: 3;\n      overflow: hidden;\n      font-size: 24px;\n      font-family: PingFangSC-Regular, PingFang SC;\n      font-weight: 400;\n      color: #656565;\n      line-height: 40px;\n    }\n    .votes {\n      .num {\n        display: flex;\n        justify-content: space-between;\n        font-size: 44px;\n        color: #053ffb;\n        .r {\n          color: #f1594c;\n        }\n      }\n      .meddile {\n        height: 40px;\n        border-radius: 56px;\n        overflow: hidden;\n        display: flex;\n        .approve {\n          height: 40px;\n          background: linear-gradient(90deg, #4d71ff, #003cfb);\n        }\n        .c {\n          display: flex;\n          align-items: center;\n          span {\n            font-size: 46px;\n          }\n          .iconlan {\n            color: #003cfb;\n            margin-right: -14px;\n            margin-left: -2px;\n            margin-top: -2px;\n          }\n          .iconhong {\n            color: #ed4038;\n            margin-left: -14px;\n            margin-right: -2px;\n            margin-bottom: -2px;\n          }\n        }\n        .oppose {\n          height: 40px;\n          background: linear-gradient(270deg, #f78069, #ed4038);\n        }\n      }\n      .foot {\n        display: flex;\n        justify-content: space-between;\n        margin-top: 14px;\n        div {\n          width: 164px;\n          height: 54px;\n          background: linear-gradient(90deg, #4d71ff, #003cfb);\n          border-radius: 56px;\n          font-size: 24px;\n          color: #ffffff;\n          display: flex;\n          justify-content: center;\n          align-items: center;\n          cursor: pointer;\n          img {\n            width: 24px;\n            margin: 0 6px;\n          }\n        }\n        .r {\n          background: linear-gradient(270deg, #f78069, #ed4038);\n        }\n      }\n    }\n  }\n  .page {\n    margin-top: 150px;\n    text-align: center;\n    margin-bottom: 160px;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Vote.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Vote.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Vote.vue?vue&type=template&id=e165025c&scoped=true&\"\nimport script from \"./Vote.vue?vue&type=script&lang=js&\"\nexport * from \"./Vote.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Vote.vue?vue&type=style&index=0&lang=less&\"\nimport style1 from \"./Vote.vue?vue&type=style&index=1&id=e165025c&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e165025c\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}